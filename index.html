<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Analyzer</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container-fluid">
        <header class="py-3 mb-4 border-bottom">
            <div class="container d-flex justify-content-between align-items-center">
                <h1 class="h4 mb-0">Color Analyzer</h1>
                <div class="d-flex align-items-center">
                    <div class="theme-switch-wrapper me-3">
                        <label class="theme-switch" for="darkModeToggle">
                            <input type="checkbox" id="darkModeToggle" />
                            <div class="slider round"></div>
                        </label>
                        <span class="theme-label ms-2">Dark Mode</span>
                    </div>
                    <a href="https://github.com/yourusername/color-analyzer-web" class="btn btn-outline-secondary me-2" target="_blank">GitHub</a>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-header">
                            <h2 class="h5 mb-0">Image Analysis</h2>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <div class="mb-3">
                                <label for="imageInput" class="form-label">Select an image to analyze</label>
                                <input class="form-control" type="file" id="imageInput" accept="image/*">
                            </div>
                            <div class="image-container mb-3 text-center flex-grow-1">
                                <img id="previewImage" class="img-fluid d-none" alt="Preview">
                                <div id="placeholderText" class="text-muted d-flex align-items-center justify-content-center h-100">
                                    <p>Image preview will appear here</p>
                                </div>
                            </div>
                            <div class="d-grid">
                                <button id="analyzeBtn" class="btn btn-primary" disabled>Analyze Colors</button>
                            </div>
                            <div id="pickedColorInfo" class="mt-3 d-none">
                                <div class="d-flex align-items-center">
                                    <div id="pickedColorSwatch" class="color-swatch me-2"></div>
                                    <div>
                                        <small id="pickedColorText">Click on the image to pick a color</small>
                                    </div>
                                    <button id="usePickedColorBtn" class="btn btn-sm btn-outline-primary ms-auto" disabled>Use This Color</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-header">
                            <h2 class="h5 mb-0">Top 10 Colors</h2>
                        </div>
                        <div class="card-body">
                            <div id="colorResults" class="row">
                                <div class="col-12 text-center py-5">
                                    <p>Analyze an image to see color results</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h2 class="h5 mb-0">Dashboard Theme Generator</h2>
                            <div>
                                <button id="exportJsonBtn" class="btn btn-sm btn-outline-secondary" disabled>Export to JSON</button>
                                <button id="exportPowerBIBtn" class="btn btn-sm btn-outline-secondary ms-2" disabled>Export for Power BI</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Color Selection Section -->
                            <div class="row mb-4">
                                <div class="col-md-12">
                                    <h6 class="border-bottom pb-2 mb-3">Colors</h6>
                                    <div class="d-flex align-items-center mb-3">
                                        <label class="form-label me-2 mb-0">Base Color:</label>
                                        <div id="selectedColorSwatch" class="color-swatch me-2"></div>
                                        <span id="selectedColorText">#3498db</span>
                                        <button id="colorPickerBtn" class="btn btn-sm btn-outline-secondary ms-2">Choose Color</button>
                                        <input type="color" id="colorPicker" class="d-none" value="#3498db">
                                        <button id="generateThemeBtn" class="btn btn-sm btn-primary ms-2">Generate Theme</button>
                                    </div>
                                    <div class="mb-3">
                                        <label for="harmonyType" class="form-label">Color Harmony:</label>
                                        <select class="form-select" id="harmonyType">
                                            <option value="complementary" selected>Complementary</option>
                                            <option value="analogous">Analogous</option>
                                            <option value="triadic">Triadic</option>
                                            <option value="split-complementary">Split-Complementary</option>
                                            <option value="tetradic">Tetradic</option>
                                            <option value="monochromatic">Monochromatic</option>
                                        </select>
                                        <div class="form-text" id="harmonyDescription">Complementary colors are opposite each other on the color wheel.</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Theme Results (Colors) -->
                            <div id="themeResults" class="row mb-4">
                                <!-- Theme colors will be dynamically added here -->
                            </div>
                            
                            <!-- Typography section removed -->
                            
                            <!-- Dashboard Preview Section -->
                            <div class="row mt-4">
                                <div class="col-md-12">
                                    <h6 class="border-bottom pb-2 mb-3">Dashboard Preview</h6>
                                    <p class="text-muted small mb-3">This preview shows how your theme colors might look in a real dashboard.</p>
                                </div>
                                
                                <div class="col-md-12">
                                    <div id="dashboardPreview" class="dashboard-preview-container mb-3">
                                        <!-- Canvas will be inserted here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="py-3 mt-4 text-center border-top">
            <p class="text-muted">Color Analyzer Web &copy; 2025</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/darkMode.js"></script>
    <script src="js/imageAnalyzer.js"></script>
    <script src="js/themeGenerator.js"></script>
    <script src="js/fontManager.js"></script>
    <script src="js/dashboardPreview.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
